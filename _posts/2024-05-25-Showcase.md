---
title: Showcase Piece
date: 2024-05-25
---

# Showcase Piece

I have recreated the game where you have to catch the balls in the cup. It is called Catch the Particles. I took pieces of code from the [fireworks experiment](my-blog/_posts/2024-04-25-Javascript-Classes.md)
where I have used the Particle class to create the balls. I did however edit the class to have other functions such as `caught()` which checks if the ball hits the top of the cup by seeing if a
particle has hit the following parameters:
```
if (
      this.y > cupY - 40 &&
      this.y < cupY - 35 &&
      this.x > cupX - 40 &&
      this.x < cupX + 40
    )
```
This checks if the particle is A) greater than `cupY` which is predefined as `355` and take 40 away from it. We take 40 away from it because it creates a kind of range as the particles are falling
it can be glitchy to try and catch them at a specific pixel due to the chance that the pixel could skip that level along the Y axis. Parameter B is checking if the particle is less than `CupY - 35`
which makes sure the particle does not go lower than `Y = 35` if the other parameters are met. the other parameters are to make sure that the particles are only "Caught" if its within the width of
the cup. Another function I added within the Particle class called `deleted()`. This makes it so that if a particle reaches the bottom of the screen it is deleted so that the particles do not 
continue off the screen. This would be bad because it would eventually cause lag because the particles would still exist even though they are not on the screen. it works by using a for loop to 
splice the particle from the array. In essence, it removes the first index of the array to make space for a new index in the array.
```
  deleted() {
    if (this.y >= height) {
      this.removed = true;
    }
    for (let i = particles.length - 1; i >= 0; i--) {
      if (particles[i] && particles[i].removed) {
        particles.splice(i, 1);
      }
    }
  }
```

I also added a start menu because I realised that the game was instantly starting and to interact with the canvas at first you had to click onto it anyway, that therefore made it so that the user
had more control over the game. I keep score each time a particle is caught in the cup and the score is displayed on the cup. To make it stay on the cup, I use the positioning of the text as
`cupX` and `cupY`. 

I created a feature where there is a chance for a larger particle to be produced. These larger particles are worth a bigger score. the bigger ones are double the size and worth 2 points. I
have used `(random(2) < 0.1)` to get the chance just right. random will pick a number between 1 and 2 including decimal places, if the number the random has generated is less than 0.1 then it 
will be set to true and release a bigger particle. This gives it a 5% chance of a bigger particle being created. 

It is easy to replay as once you reach 100 particles in the cup, the code triggers the `WinDisplay()` function which stops the game, congratulates the player, and lets them replay the game.
In the caught function in the particle class, I check the score. I messed around a lot with the syntax of the if statemeent because I found results I couldn't really explain. If I had the
syntax `if(score == 100)` then the count would stop at 99, which was not good enough. I then tried `if(score >= 100)` however I just got the same result even though I'm checking if the score 
is GREATER THAN or EQUAL to 100. So, although the syntax isnt the greatest, to get it functioning properly I just made it so that the if statement looked like this:
```
if (score === 101) {
        winner = true;
      }
```.

[Here's my final piece - Catch The Particles](/my-blog/Code-Experiments/catch-the-particles/index.html)

<img src="/my-blog/Images/Catch-Particles.png" width="200">
